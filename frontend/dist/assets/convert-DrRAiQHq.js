import{a as n}from"./index-B9ygI19o.js";import{E as u}from"./index-kUKhpTX8.js";const a=n.create({baseURL:"/api",timeout:6e4,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>e,e=>(console.error("请求错误:",e),Promise.reject(e)));a.interceptors.response.use(e=>e.data,e=>{var o;console.error("响应错误:",e);let t="请求失败";if(e.response)switch(e.response.status){case 400:t="请求参数错误";break;case 401:t="未授权，请重新登录";break;case 403:t="拒绝访问";break;case 404:t="请求的资源不存在";break;case 500:t="服务器内部错误";break;default:t=((o=e.response.data)==null?void 0:o.message)||"请求失败"}else e.request&&(t="网络错误，请检查网络连接");return u.error(t),Promise.reject(e)});function d(e,t){const o=new FormData;return o.append("file",e),a({url:"/upload",method:"post",data:o,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:s=>{if(t){const r=Math.round(s.loaded*100/s.total);t(r)}}})}function c(e=0,t=100){return a({url:"/files",method:"get",params:{skip:e,limit:t}})}function p(e){return a({url:`/files/${e}`,method:"delete"})}function f(e){return`/api/files/${e}/download`}function m(e){return a({url:"/convert/to-pdf",method:"post",data:{file_id:e}})}function g(e){return a({url:`/convert/status/${e}`,method:"get"})}function h(e){return`/api/convert/download/${e}`}export{f as a,h as b,m as c,p as d,g as e,c as g,a as r,d as u};
